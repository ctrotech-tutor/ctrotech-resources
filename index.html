<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0 user-scalable=no" />
        <meta name="author" content="Ctrotech Tutor Insights" />
        <meta name="keywords" content="JAMB 2025, Novel Questions, The Lekki Headmaster, UTME, Study App, Exam Practice" />
        <meta name="theme-color" content="#3E52E8" />
        <meta name="description" content="Practice JAMB 2025 questions from the novel 'The Lekki Headmaster'. Get exam-ready with Ctrotech Tutor Insights." />

        <!-- Canonical and Robots -->
        <link rel="canonical" href="https://ctrotech-tutor.github.io/ctrotech-resources/" />
        <meta name="robots" content="index, follow" />
        <meta name="googlebot" content="index, follow" />

        <!-- Open Graph for Social Media Preview -->
        <meta property="og:title" content="2025 JAMB Novel Practice | Ctrotech Tutor Insights" />
        <meta property="og:description" content="Master questions from The Lekki Headmaster. Practice smart, learn faster with Ctrotech Tutor Insights." />
        <meta property="og:image" content="https://ctrotech-tutor.github.io/ctrotech-resources/banner.png" />
        <meta property="og:image:secure_url" content="https://ctrotech-tutor.github.io/ctrotech-resources/banner.png" />
        <meta property="og:image:type" content="image/png" />
        <meta property="og:image:width" content="1200" />
        <meta property="og:image:height" content="630" />
        <meta property="og:url" content="https://ctrotech-tutor.github.io/ctrotech-resources/" />
        <meta property="og:type" content="website" />

        <!-- Twitter Card Meta -->
        <meta name="twitter:card" content="summary_large_image" />
        <meta name="twitter:title" content="2025 JAMB Novel Practice | Ctrotech Tutor Insights" />
        <meta name="twitter:description" content="Get ready for UTME 2025 with novel-based practice questions. Study smart with Ctrotech Tutor Insights." />
        <meta name="twitter:image" content="https://ctrotech-tutor.github.io/ctrotech-resources/banner.png" />

        <!-- SEO Extras -->
        <meta name="language" content="English" />
        <meta name="distribution" content="global" />
        <meta name="rating" content="general" />
        <meta name="HandheldFriendly" content="true" />
        <meta name="google-site-verification" content="06TmKUBafqk7SKGbkDYTU6xjsXqlw35V8IrXHCFLB3E" />

        <!-- Google / Schema.org -->
        <meta itemprop="name" content="2025 JAMB Novel Practice | Ctrotech Tutor Insights" />
        <meta itemprop="description" content="Practice smart questions from The Lekki Headmaster. Study, grow, and succeed with Ctrotech Tutor Insights." />
        <meta itemprop="image" content="https://ctrotech-tutor.github.io/ctrotech-resources/banner.png" />

        <!-- Favicon and App Icons -->
        <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png" />
        <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png" />
        <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png" />
        <link rel="manifest" href="site.webmanifest" />

        <!-- Page Title -->
        <title>2025 JAMB Novel Practice | Ctrotech Tutor Insights</title>

        <!-- Tailwind CSS -->
        <script src="https://cdn.tailwindcss.com"></script>

        <!-- Ionicons -->
        <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>

        <script src="https://cdn.jsdelivr.net/npm/gsap@3.11.1/dist/gsap.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/gsap@3.11.1/dist/ScrollTrigger.min.js"></script>

        <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
        <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet" />

        <!-- Structured Data for SEO -->
        <script type="application/ld+json">
            {
                "@context": "https://schema.org",
                "@type": "EducationalOrganization",
                "name": "Ctrotech Tutor Insights",
                "url": "https://ctrotech-tutor.github.io/ctrotech-resources/",
                "logo": "https://ctrotech-tutor.github.io/ctrotech-resources/logo.png",
                "description": "Prepare for JAMB 2025 with expert questions and answers from the novel 'The Lekki Headmaster'.",
                "sameAs": ["https://www.facebook.com/ctrotech", "https://wa.me/2349041622945"]
            }
        </script>
        <!-- Google tag (gtag.js) -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-R1FBLT5NZR"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag() {
                dataLayer.push(arguments);
            }
            gtag("js", new Date());

            gtag("config", "G-R1FBLT5NZR");
        </script>
        <!-- Google Tag Manager -->
        <script>
            (function (w, d, s, l, i) {
                w[l] = w[l] || [];
                w[l].push({ "gtm.start": new Date().getTime(), event: "gtm.js" });
                var f = d.getElementsByTagName(s)[0],
                    j = d.createElement(s),
                    dl = l != "dataLayer" ? "&l=" + l : "";
                j.async = true;
                j.src = "https://www.googletagmanager.com/gtm.js?id=" + i + dl;
                f.parentNode.insertBefore(j, f);
            })(window, document, "script", "dataLayer", "GTM-WGZDKJZC");
        </script>
        <!-- End Google Tag Manager -->
        <style>
            #loader {
                background: white;
                position: fixed;
                z-index: 50;
                inset: 0;
                display: flex;
                align-items: center;
                justify-content: center;
            }
            #loader.hide {
                opacity: 0;
                pointer-events: none;
                transition: opacity 0.5s ease;
            }

            :focus-visible {
                outline: 3px solid #4f46e5;
                outline-offset: 2px;
            }
            @keyframes fade-in {
                from {
                    opacity: 0;
                    transform: translateY(-20px);
                }
                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }

            @keyframes slide-up {
                from {
                    opacity: 0;
                    transform: translateY(20px);
                }
                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }

            .animate-fade-in {
                animation: fade-in 1s ease-out;
            }
            .animate-slide-up {
                animation: slide-up 1.2s ease-out;
            }

            #testimonialSlider {
                display: flex;
                scroll-behavior: smooth;
            }
            #testimonialSlider::-webkit-scrollbar {
                display: none;
            }
            .scrollbar-hide {
                -ms-overflow-style: none;
                scrollbar-width: none;
            }
        </style>
    </head>
    <body class="bg-white text-gray-800 font-sans min-h-screen">
        <!-- Loading Screen -->
        <div id="loader" class="fixed inset-0 bg-white z-50 flex items-center justify-center" role="status" aria-live="polite">
            <div class="text-center animate-pulse">
                <img src="logo.png" alt="Ctrotech logo loading" class="w-16 h-16 mx-auto mb-2" />
                <p class="text-sm text-gray-600">Loading your study experience...</p>
            </div>
        </div>

        <div class="bg-gradient-to-r from-indigo-600 to-blue-600 text-white py-16 px-5 text-center rounded-b-3xl relative overflow-hidden justify-center items-center flex flex-col shadow-2xl">
            <div class="absolute top-6 left-6 w-16 h-16 bg-white opacity-10 rounded-full animate-pulse"></div>
            <div class="absolute bottom-8 right-8 w-24 h-24 bg-white opacity-5 rounded-full animate-bounce"></div>
            <!-- Logo with fade-in animation -->
            <img src="logo.png" alt="Ctrotech Tutor Insights logo" class="w-24 h-24 mb-6 rounded-md animate-fade-in shadow-md" />

            <!-- Main Heading -->
            <h1 class="text-4xl md:text-5xl font-extrabold text-gray-100 leading-tight mb-4 animate-slide-up drop-shadow-lg">
                Master the <span class="text-yellow-300">2025 JAMB Novel</span><br class="hidden md:block" />
                with <span class="underline decoration-indigo-300">Confidence</span>
            </h1>

            <!-- Subheading -->
            <p class="text-lg md:text-xl text-gray-200 mb-6 animate-fade-in">Smart Practice Questions from <em>The Lekki Headmaster</em></p>

            <!-- CTA Button -->
            <a href="questions.html" class="inline-flex items-center justify-center gap-2 px-8 py-4 bg-white text-indigo-700 font-semibold rounded-full shadow-md hover:bg-gray-100 hover:scale-105 transition-all duration-300 group">
                Start Practicing Now
                <ion-icon name="arrow-forward" class="text-2xl"></ion-icon>
            </a>

            <!-- Quick Info Highlights -->
            <div id="quick-highlights" class="flex flex-wrap justify-center gap-5 mt-10 text-white text-sm md:text-base font-semibold z-20">
                <!-- Item 1 -->
                <div class="quick-item flex items-center gap-3 bg-indigo-700 pr-3 rounded-full shadow-lg hover:scale-105 transition-all duration-300 hover:bg-indigo-800">
                    <div class="w-12 h-12 rounded-full bg-white/10 flex items-center justify-center">
                        <ion-icon name="checkmark-circle" class="text-green-300 text-xl"></ion-icon>
                    </div>
                    <span>100+ JAMB-style Questions</span>
                </div>

                <!-- Item 2 -->
                <div class="quick-item flex items-center gap-3 bg-indigo-700 pr-3 rounded-full shadow-lg hover:scale-105 transition-all duration-300 hover:bg-indigo-800">
                    <div class="w-10 h-10 rounded-full bg-white/10 flex items-center justify-center">
                        <ion-icon name="flash-outline" class="text-yellow-300 text-xl"></ion-icon>
                    </div>
                    <span>Exam-Ready Practice</span>
                </div>

                <!-- Item 3 -->
                <div class="quick-item flex items-center gap-3 bg-indigo-700 pr-3 rounded-full shadow-lg hover:scale-105 transition-all duration-300 hover:bg-indigo-800">
                    <div class="w-8 h-8 rounded-full bg-white/10 flex items-center justify-center">
                        <ion-icon name="school-outline" class="text-white text-xl"></ion-icon>
                    </div>
                    <span>100% Free Access</span>
                </div>
            </div>
        </div>
        <main class="flex flex-col items-center justify-center px-5 text-center space-y-8 py-8 rounded-3xl bg-gradient-to-r from-blue-50 to-blue-100 via-white">
            <!-- About Section -->
            <section class="bg-white text-center py-10 px-6 rounded-2xl shadow-2xl w-full max-w-2xl border border-indigo-200 animate-fade-in">
                <img src="ctrotech.jpg" alt="Ctrotech Tutor Insights banner" class="w-20 h-20 mx-auto mb-4 rounded-md shadow" />
                <h2 class="text-2xl font-bold text-indigo-700 mb-3">Join the Ctrotech Tutor Insights Community</h2>
                <p class="text-gray-700 leading-relaxed mb-6">
                    Get access to <strong>structured learning</strong>, weekly WhatsApp classes, and support for <em>core academic + digital skills</em>.
                    <span class="text-indigo-600 font-semibold">Grow with like minds!</span>
                </p>

                <a
                    href="https://wa.me/2349041622945?text=Hello%20Ctrotech%20Tutor%20Insights!%20I'm%20interested%20in%20joining%20your%20learning%20community..."
                    target="_blank"
                    class="inline-flex items-center gap-2 px-6 py-3 text-white bg-indigo-600 rounded-full shadow-lg hover:bg-indigo-700 transition-all"
                >
                    <ion-icon name="logo-whatsapp" class="text-2xl"></ion-icon>
                    Join Us on WhatsApp
                </a>
            </section>

            <section class="bg-indigo-100 text-indigo-900 py-14 px-6 text-left w-full max-w-5xl rounded-2xl shadow-xl animate-fade-in">
                <h2 class="text-3xl font-extrabold mb-8 flex items-center gap-2">
                    <ion-icon name="star-outline" class="text-indigo-700 text-2xl flex-shrink-0"></ion-icon>
                    Why Choose This App?
                </h2>

                <ul class="space-y-6">
                    <li class="flex items-start gap-4 animate-slide-up">
                        <ion-icon name="bulb-outline" class="text-2xl text-indigo-700 mt-1 shrink-0"></ion-icon>
                        <div>
                            <h3 class="font-semibold text-lg">Smart Quiz Engine</h3>
                            <p class="text-indigo-800 text-sm">Practice by topics, chapters, difficulty, or full mock. Your learning, your way.</p>
                        </div>
                    </li>

                    <li class="flex items-start gap-4 animate-slide-up" style="animation-delay: 0.2s;">
                        <ion-icon name="cloud-offline-outline" class="text-2xl text-indigo-700 mt-1 shrink-0"></ion-icon>
                        <div>
                            <h3 class="font-semibold text-lg">Offline Access</h3>
                            <p class="text-indigo-800 text-sm">Study anytime, anywhere—even with no data. Your progress is saved.</p>
                        </div>
                    </li>

                    <li class="flex items-start gap-4 animate-slide-up" style="animation-delay: 0.4s;">
                        <ion-icon name="book-outline" class="text-2xl text-indigo-700 mt-1 shrink-0"></ion-icon>
                        <div>
                            <h3 class="font-semibold text-lg">Summarized Chapters</h3>
                            <p class="text-indigo-800 text-sm">Get crisp notes and key points from <em>The Lekki Headmaster</em> for fast revision.</p>
                        </div>
                    </li>

                    <li class="flex items-start gap-4 animate-slide-up" style="animation-delay: 0.6s;">
                        <ion-icon name="chatbubble-ellipses-outline" class="text-2xl text-indigo-700 mt-1 shrink-0"></ion-icon>
                        <div>
                            <h3 class="font-semibold text-lg">Live WhatsApp Classes</h3>
                            <p class="text-indigo-800 text-sm">Weekly sessions with tutors and peers for questions, discussions, and more.</p>
                        </div>
                    </li>
                </ul>
            </section>
            <!-- TESTIMONIAL SECTION -->
            <section class="bg-gray-white py-16 relative overflow-hidden max-w-5xl mx-auto rounded-2xl shadow-xl animate-fade-in w-full">
                <div class="text-center relative z-10">
                    <h2 class="text-4xl font-extrabold text-blue-700 drop-shadow-lg animate-fade-in px-5">
                        What Our Students Say ⭐⭐⭐⭐⭐
                    </h2>
                    <p class="text-gray-600 mt-4 text-lg max-w-3xl mx-auto animate-slide-up px-5">Watch how <strong>Ctrotech Tutor Insights</strong> helps learners grow smart, skilled, and future-ready!</p>
                    <!-- Testimonials Container -->
                    <div id="testimonialSlider" class="grid gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 place-items-center p-4 overflow-x-auto approvedTestimonialList scrollbar-hide">
                        <!-- Loader Skeleton Cards -->
                        <div id="spinner" class="flex gap-4 overflow-x-auto px-2 py-4">
                            <div class="animate-pulse flex flex-col items-center bg-white shadow rounded-xl p-4 w-64">
                                <div class="w-16 h-16 bg-gray-300 rounded-full mb-4"></div>
                                <div class="w-3/4 h-4 bg-gray-300 rounded mb-2"></div>
                                <div class="w-5/6 h-4 bg-gray-200 rounded mb-2"></div>
                                <div class="w-2/3 h-4 bg-gray-200 rounded"></div>
                            </div>
                            <div class="animate-pulse flex flex-col items-center bg-white shadow rounded-xl p-4 w-64">
                                <div class="w-16 h-16 bg-gray-300 rounded-full mb-4"></div>
                                <div class="w-3/4 h-4 bg-gray-300 rounded mb-2"></div>
                                <div class="w-5/6 h-4 bg-gray-200 rounded mb-2"></div>
                                <div class="w-2/3 h-4 bg-gray-200 rounded"></div>
                            </div>
                        </div>
                        <div id="emptyCTA" class="hidden mt-8 text-center text-gray-600">
                            <p class="mb-4">No testimonials available yet. Want to be the first to inspire others?</p>
                            <a href="submit-testimonial.html" class="inline-block bg-blue-600 text-white px-5 py-3 rounded-full hover:bg-blue-700 shadow transition">
                                Submit Your Testimonial
                            </a>
                        </div>
                    </div>

                    <!-- Navigation Buttons -->
                    <div class="flex justify-center mt-6 space-x-4">
                        <button onclick="prevTestimonial()" class="w-12 h-12 p-3 bg-blue-600 text-white rounded-full shadow-md hover:bg-blue-700 transition flex items-center justify-center disabled:opacity-50" aria-label="Previous">
                            <ion-icon name="chevron-back-outline"></ion-icon>
                        </button>
                        <button onclick="nextTestimonial()" class="w-12 h-12 p-3 bg-blue-600 text-white rounded-full shadow-md hover:bg-blue-700 transition flex items-center justify-center disabled:opacity-50" aria-label="Next">
                            <ion-icon name="chevron-forward-outline"></ion-icon>
                        </button>
                    </div>
                </div>
            </section>
            <!-- Newsletter Signup -->
            <section class="bg-white text-center py-10 px-4 mt-12 rounded-xl shadow-lg w-full max-w-xl">
                <h2 class="text-2xl font-bold text-indigo-700 mb-2">Stay in the Loop</h2>
                <p class="text-gray-600 mb-4">Subscribe for free updates, tips, and motivational study content!</p>
                <form id="newsletter-form" class="flex flex-col gap-3 sm:flex-row sm:items-center justify-center">
                    <input id="newsletter-name" type="text" placeholder="Your name" class="px-4 py-2 rounded-full border border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500" required />
                    <input id="newsletter-email" type="email" placeholder="Your email" class="px-4 py-2 rounded-full border border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500" required />
                    <button type="submit" class="px-6 py-2 bg-indigo-600 text-white font-semibold rounded-full hover:bg-indigo-700 transition"><ion-icon name="mail-outline" class="mr-1"></ion-icon> Subscribe</button>
                </form>
                <p id="newsletter-msg" class="hidden mt-3 text-sm font-medium"></p>
            </section>
            <!-- Scroll to Top Button -->
            <button id="scrollTop" class="z-30 fixed w-14 h-14 flex items-center justify-center bottom-6 right-6 p-3 rounded-full bg-indigo-600 text-white shadow-lg hover:bg-indigo-700 transition hidden">
                <ion-icon name="arrow-up-outline" class="text-xl"></ion-icon>
            </button>
        </main>

        <!-- Footer -->

        <footer class="bg-white py-10 px-6 text-indigo-800 animate-fade-in rounded-t-3xl">
            <div class="max-w-6xl mx-auto grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-8 text-center sm:text-left">
                <!-- Logo & Intro -->
                <div>
                    <img src="ctrotech.jpg" alt="Ctrotech Logo" class="w-16 h-16 mx-auto sm:mx-0 mb-3 rounded-md" />
                    <p class="text-sm">Empowering learners through structured academic and digital skill support. Learn & Grow with us!</p>
                </div>

                <!-- Quick Links -->
                <div>
                    <h4 class="font-bold text-md mb-2">Quick Links</h4>
                    <ul class="space-y-1 text-sm">
                        <li><a href="index.html" class="hover:text-indigo-600 transition">Home</a></li>
                        <li><a href="questions.html" class="hover:text-indigo-600 transition">Practice Questions</a></li>
                        <li><a href="https://wa.me/2349041622945" class="hover:text-indigo-600 transition">Join WhatsApp Class</a></li>
                    </ul>
                </div>

                <!-- Contact Info -->
                <div>
                    <h4 class="font-bold text-md mb-2">Contact</h4>
                    <ul class="space-y-1 text-sm">
                        <li class="flex items-center justify-center sm:justify-start gap-2">
                            <ion-icon name="mail-outline"></ion-icon>
                            ctrotech.devs@gmail.com
                        </li>
                        <li class="flex items-center justify-center sm:justify-start gap-2">
                            <ion-icon name="call-outline"></ion-icon>
                            +234 904 162 2945
                        </li>
                        <li class="flex items-center justify-center sm:justify-start gap-2">
                            <ion-icon name="location-outline"></ion-icon>
                            Lagos, Nigeria
                        </li>
                    </ul>
                </div>

                <!-- Social Icons -->
                <div>
                    <h4 class="font-bold text-md mb-2">Follow Us</h4>
                    <div class="flex justify-center sm:justify-start gap-4 text-xl">
                        <a href="https://wa.me/2349041622945" target="_blank" class="hover:text-green-500">
                            <ion-icon name="logo-whatsapp"></ion-icon>
                        </a>
                        <a href="mailto:ctrotech.devs@gmail.com" target="_blank" class="hover:text-blue-500">
                            <ion-icon name="mail-outline"></ion-icon>
                        </a>
                        <a href="#" target="_blank" class="hover:text-purple-500">
                            <ion-icon name="logo-instagram"></ion-icon>
                        </a>
                    </div>
                </div>
            </div>

            <!-- Bottom -->
            <div class="mt-8 border-t pt-4 text-center text-xs text-gray-500">
                <p>&copy; 2025 Ctrotech Tutor Insights. All rights reserved.</p>
            </div>
        </footer>

        <script>
            document.body.style.overflow = "hidden";

const loader = document.getElementById("loader");
const maxLoadTime = 10000; // max wait of 10s

// Timeout in case of never-ending load
const fallbackTimeout = setTimeout(() => {
  hideLoader(true);
}, maxLoadTime);

// Called when fully loaded
window.addEventListener("load", () => {
  clearTimeout(fallbackTimeout);
  hideLoader();
});

function hideLoader(forced = false) {
  loader.classList.add("hide");
  setTimeout(() => {
    loader.remove();
    document.body.style.overflow = "unset";

    if (forced) {
      // Optional: show a toast that loading was forced
      console.warn("Loader timeout exceeded. Some assets may not have loaded.");
    }
  }, 300);
}
            
            // Scroll to Top
            const scrollTop = document.getElementById("scrollTop");
            window.addEventListener("scroll", () => {
                scrollTop.classList.toggle("hidden", window.scrollY < 300);
            });
            scrollTop.addEventListener("click", () => {
                window.scrollTo({ top: 0, behavior: "smooth" });
            });

            const form = document.getElementById("newsletter-form");
            const nameInput = document.getElementById("newsletter-name");
            const emailInput = document.getElementById("newsletter-email");
            const message = document.getElementById("newsletter-msg");

            const scriptURL = "https://script.google.com/macros/s/AKfycbycm38VsR6PWVyFarNzjHsfy8NY1W523Y13KqXf93Mxi3Wkj3LcQWSQjbG3e5yuTRRzrg/exec"; // Replace this with your deployed Apps Script URL

            form.addEventListener("submit", (e) => {
                e.preventDefault();
                const name = nameInput.value.trim();
                const email = emailInput.value.trim();

                if (!email.includes("@") || name.length < 2) {
                    message.textContent = "Please enter a valid name and email.";
                    message.className = "text-red-600 animate-fade-in mt-3 text-sm font-medium";
                    message.classList.remove("hidden");
                    return;
                }

                fetch(scriptURL, {
                    method: "POST",
                    headers: { "Content-Type": "application/x-www-form-urlencoded" },
                    body: new URLSearchParams({ name, email }),
                })
                    .then((res) => res.json())
                    .then((data) => {
                        message.textContent = "Thanks for subscribing!";
                        message.className = "text-green-600 animate-fade-in mt-3 text-sm font-medium";
                        message.classList.remove("hidden");
                        nameInput.value = "";
                        emailInput.value = "";
                    })
                    .catch((error) => {
                        message.textContent = "Something went wrong. Please try again.";
                        message.className = "text-red-600 animate-fade-in mt-3 text-sm font-medium";
                        message.classList.remove("hidden");
                        console.error("Error!", error.message);
                    });
            });
        </script>

        <script type="module">
            // 🔥 Firebase Setup
            import { initializeApp } from "https://www.gstatic.com/firebasejs/11.3.1/firebase-app.js";
            import { getDatabase, ref, onChildAdded, onChildChanged, onChildRemoved } from "https://www.gstatic.com/firebasejs/11.3.1/firebase-database.js";

            // ✅ Firebase Config
            const firebaseConfig = {
                apiKey: "AIzaSyCnEelN7uXmP3dWj213NBQAELXooWDjg",
                authDomain: "famlink-d500b.firebaseapp.com",
                projectId: "famlink-d500b",
                databaseURL: "https://famlink-d500b-default-rtdb.firebaseio.com",
                storageBucket: "famlink-d500b.firebasestorage.app",
                messagingSenderId: "1078043142266",
                appId: "1:1078043142266:web:016f3deec706b7b85b73c3",
                measurementId: "G-11E0E7NQTG",
            };

            // ✅ Initialize Firebase
            const app = initializeApp(firebaseConfig);
            const db = getDatabase(app);
            const approvedTestimonialsRef = ref(db, "testimonials_approved");

            const slider = document.getElementById("testimonialSlider");
            const loader = document.getElementById("spinner");
            const emptyCTA = document.getElementById("emptyCTA");

            const testimonialsMap = {};
            let dataLoaded = false;
            let emptyMessageShown = false;

            // Create Card
            const createTestimonialCard = (key, testimonial) => {
                const card = document.createElement("div");
                card.id = `testimonial-${key}`;
                card.classList.add(
                    "testimonial-card",
                    "bg-white",
                    "rounded-2xl",
                    "p-6",
                    "shadow-xl",
                    "min-w-[280px]",
                    "max-w-sm",
                    "h-[320px]",
                    "flex",
                    "flex-col",
                    "justify-between",
                    "transition-transform",
                    "duration-300",
                    "ease-in-out",
                    "hover:scale-[1.03]",
                    "hover:shadow-2xl"
                );

                card.innerHTML = `
    <div class="flex items-center gap-4 mb-4">
      ${
          testimonial.image
              ? `<img src="${testimonial.image}" alt="${testimonial.name}" class="w-12 h-12 flex-shrink-0 rounded-full border-4 border-blue-500 shadow-md object-cover"/>`
              : `<div class="w-12 h-12 flex items-center justify-center rounded-full bg-blue-600 text-white text-lg font-bold shadow-md">
              ${testimonial.name.charAt(0).toUpperCase()}
            </div>`
      }
      <div>
        <h3 class="font-semibold text-blue-800">${testimonial.name}</h3>
        <p class="text-sm text-gray-500">Learner @ Ctrotech</p>
      </div>
    </div>

    <p class="text-gray-700 text-[15px] leading-relaxed line-clamp-5 italic">"${testimonial.message}"</p>

    <div class="mt-4 text-center">
      <div class="text-yellow-500 text-lg mb-1">${"⭐".repeat(testimonial.rating || 5)}</div>
    </div>
  `;

                return card;
            };
            // Hide Loader
            const hideLoader = () => {
                loader.style.display = "none";
                updateNavButtons();
            };

            // Show Empty Message CTA
            const showEmptyMessage = () => {
                if (Object.keys(testimonialsMap).length === 0 && !emptyMessageShown) {
                    hideLoader();
                    emptyCTA.classList.remove("hidden");
                    emptyMessageShown = true;
                }
            };

            // Firebase: Testimonial Added
            onChildAdded(approvedTestimonialsRef, (snapshot) => {
                const key = snapshot.key;
                const data = snapshot.val();

                if (!testimonialsMap[key]) {
                    const card = createTestimonialCard(key, data);
                    loader.style.display = "none"; // hide spinner
                    emptyCTA.classList.add("hidden"); // hide empty CTA if visible

                    slider.prepend(card);
                    testimonialsMap[key] = card;

                    gsap.from(card, { opacity: 0, y: 30, duration: 0.5 });
                    updateNavButtons();
                }

                dataLoaded = true;
            });

            // Firebase: Testimonial Updated
            onChildChanged(approvedTestimonialsRef, (snapshot) => {
                const key = snapshot.key;
                const data = snapshot.val();
                if (testimonialsMap[key]) {
                    testimonialsMap[key].innerHTML = createTestimonialCard(key, data).innerHTML;
                    gsap.fromTo(testimonialsMap[key], { opacity: 0.5 }, { opacity: 1, duration: 0.3 });
                }
            });

            // Firebase: Testimonial Removed
            onChildRemoved(approvedTestimonialsRef, (snapshot) => {
                const key = snapshot.key;
                const card = testimonialsMap[key];
                if (card) {
                    gsap.to(card, {
                        opacity: 0,
                        scale: 0.95,
                        duration: 0.3,
                        onComplete: () => card.remove(),
                    });
                    delete testimonialsMap[key];

                    // Re-check if testimonials are now empty
                    if (Object.keys(testimonialsMap).length === 0) {
                        setTimeout(showEmptyMessage, 1000);
                    }
                }
            });

            // Retry Empty State if No Testimonials After Delay
            setTimeout(() => {
                if (!dataLoaded || Object.keys(testimonialsMap).length === 0) {
                    showEmptyMessage();
                }
            }, 5000);

            // Navigation Logic
            function nextTestimonial() {
                slider.scrollBy({ left: 320, behavior: "smooth" });
            }
            function prevTestimonial() {
                slider.scrollBy({ left: -320, behavior: "smooth" });
            }
            window.nextTestimonial = nextTestimonial;
            window.prevTestimonial = prevTestimonial;
            function updateNavButtons() {
                const maxScrollLeft = slider.scrollWidth - slider.clientWidth;
                document.querySelector('[onclick="prevTestimonial()"]').disabled = slider.scrollLeft <= 0;
                document.querySelector('[onclick="nextTestimonial()"]').disabled = slider.scrollLeft >= maxScrollLeft - 5;
            }

            slider.addEventListener("scroll", updateNavButtons);
            window.addEventListener("load", updateNavButtons);
        </script>
        <!-- Google Tag Manager (noscript) -->
        <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WGZDKJZC" height="0" width="0" style="display: none; visibility: hidden;"></iframe></noscript>
        <!-- End Google Tag Manager (noscript) -->
        <script src="mobile_check.js"></script>
    </body>
</html>
